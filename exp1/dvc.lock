schema: '2.0'
stages:
  featurize:
    cmd: python src/featurization.py ./data/downloaded_data/ ./data/prepared_data/
    deps:
    - path: data/downloaded_data
      md5: e5240f0f7bbfb82b30952ba0040123e8.dir
      size: 11999397
      nfiles: 6
    - path: src/featurization.py
      md5: 504ea898451d6baf4c7aa8b6dd7a0783
      size: 10336
    params:
      params.yaml:
        featurize.max_features: 12
        featurize.max_rank: 100
        featurize.world_rank: 50
    outs:
    - path: data/prepared_data
      md5: 13a07c8498fef987a141ca096b42d31f.dir
      size: 95565
      nfiles: 12
  train:
    cmd: python src/train.py ./data/prepared_data/ model.pkl
    deps:
    - path: data/prepared_data/
      md5: 13a07c8498fef987a141ca096b42d31f.dir
      size: 95565
      nfiles: 12
    - path: src/train.py
      md5: e233a95214a1f5a41f820444816e9c86
      size: 830
    params:
      params.yaml:
        train.n_est: 100
        train.train_data: cwurData
    outs:
    - path: model.pkl
      md5: 6ce51a7a7ca90b1eb816dc4225738afa
      size: 460682
  evaluate:
    cmd: python src/evaluate.py model.pkl data/prepared_data/ ./evaluation/scores.json
      ./evaluation/prc.json ./evaluation/roc.json ./evaluation/confu_mat.csv
    deps:
    - path: data/prepared_data/
      md5: 13a07c8498fef987a141ca096b42d31f.dir
      size: 95565
      nfiles: 12
    - path: model.pkl
      md5: 6ce51a7a7ca90b1eb816dc4225738afa
      size: 460682
    - path: src/evaluate.py
      md5: 058d1791910f9ecddc9697c69a0ab92d
      size: 3095
    params:
      params.yaml:
        train.train_data: cwurData
    outs:
    - path: ./evaluation/confu_mat.csv
      md5: bff864f105d077a1e049d5bfd2bc9f76
      size: 433
    - path: ./evaluation/prc.json
      md5: 84d94c0c2ec49d34b0eec714891a064f
      size: 3371
    - path: ./evaluation/roc.json
      md5: 6846b374e5f31ed0269303fe263d90a7
      size: 3688
    - path: ./evaluation/scores.json
      md5: f9fef2e8fd861fb0175f2e47319fce98
      size: 146
